---
import BaseLayout from '../layouts/BaseLayout.astro';
import { getEntry } from 'astro:content';

// Fetch about page content
const aboutPage = await getEntry('pages', 'about');
const { title, heroTitle, mission, focusAreas, directorSection, uniquePoints } = aboutPage?.data || {};
---

<BaseLayout title={`${title || 'About'} - Low-Gravity Fluids Lab`}>
  <section class="page-hero">
    <div class="container">
      <h1>{heroTitle || title || 'About the Program'}</h1>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <div class="content-wrapper">
        {mission && (
          <>
            <h2>Mission</h2>
            <p class="lead">{mission}</p>
          </>
        )}

        {focusAreas && focusAreas.length > 0 && (
          <>
            <h3>Focus Areas</h3>
            <div class="grid grid-2">
              {focusAreas.map((area) => (
                <div class="focus-area">
                  <h4>{area.title}</h4>
                  <p>{area.description}</p>
                </div>
              ))}
            </div>
          </>
        )}

        {directorSection && (
          <>
            <h3>Program Director</h3>
            <p>{directorSection}</p>
          </>
        )}

        {uniquePoints && uniquePoints.length > 0 && (
          <>
            <h3>What Makes Us Unique</h3>
            <ul>
              {uniquePoints.map((point) => (
                <li>{point}</li>
              ))}
            </ul>
          </>
        )}
      </div>
    </div>
  </section>

  <style>
    .page-hero {
      background-color: var(--carthage-red);
      color: var(--carthage-white);
      padding: 3rem 0;
      margin-bottom: var(--spacing-xl);
    }

    .page-hero h1 {
      color: var(--carthage-white);
      margin: 0;
    }

    .content-wrapper {
      max-width: 900px;
      margin: 0 auto;
    }

    .focus-area {
      padding: var(--spacing-md);
      background-color: var(--carthage-gray-light);
      border-left: 4px solid var(--carthage-red);
    }

    .focus-area h4 {
      color: var(--carthage-red);
      margin-bottom: var(--spacing-xs);
    }

    ul {
      list-style-position: inside;
      line-height: 2;
    }

    li {
      margin-bottom: var(--spacing-xs);
    }
  </style>
</BaseLayout>
